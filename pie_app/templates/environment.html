<!doctype html>
<html ng-app="environment_app">

	<head>
		<link rel="stylesheet" href="static/treadmill.css">
		<link rel="stylesheet" href="static/bootstrap/css/bootstrap.min.css">
		<link rel="stylesheet" href="static/font-awesome-4.7.0/css/font-awesome.min.css">
		<link rel="stylesheet" href="static/angular-ui-switch.min.css">

		<script src="static/angular/angular.min.js"></script>
		<script src="static/angular/angular-route.js">

		<script src="static/bootstrap/js/bootstrap.min.js"></script>

		<script src="static/angular-ui-switch.min.js"></script>
  
      	<script src="static/socketio.js"></script>

		<script src="static/environment.js"></script>

		<script src="static/plotly/plotly-1.38.3.min.js"></script>
		
		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<link rel="shortcut icon" href="static/favicon-thermometer-half.ico">

		<style>
			h4, h5 {
			margin-left: 30px; /* change this as you like */
			}
		</style>
	</head>

<body>
	<div ng-controller="environmentController">

	
	<table style="width:50%; margin-left: 30px">
	<tr>
		<td>{{ status.trial.systemInfo.hostname }} </td>
		<td>{{ lastTime }}</td>
		<td>{{ lastTemp }} &#8451;</td>
		<td>{{ lastHum }} %</td>
	</tr>
	<tr>
		<td colspan=2>
		<div ng-show="loadingData">
		Loading Data, Please Wait ...
		</div>
		<div ng-show="! loadingData">
		&nbsp;
		</div>
		<td>
	</tr>
	</table>
		
	<!-- main plotly plot -->
	<div id="myplot" style="height: 100%; margin-left: 30px; margin-right: 30px;"></div>

		
<!--
		<label>Days Before
			<input style="width: 5em" 
				name = "daysBeforeID"
				type="number"
				ng-model="daysBefore"
				ng-change="setDaysBefore()"
				>
			</label>
		</label>
	
		<label>End Date
		<input type="date"
		   ng-model="endDate.value"
		   placeholder="yyyy-MM-dd"
		   name="setEndDateID"
		   ng-change="setEndDate()">
		</label>
-->
		
		<table style="width:90%; margin-left: 30px">
		<tr>
			<td>
			<button type="button"
				class="btn btn-success btn-sm"
				ng-click="reloadDataButton()">
				Reload Data
			</button>
			</td>
						
			<td>
			Plot Last
		
			<label>
			<input style="width: 3em" 
				type="number"
				ng-model="intervalNumber"
				ng-change="setIntervalNumber()"
				min="1"
				step="1">
			</label>
		
			<label>
			<select name="" 
				ng-init="intervalType" 
				ng-model="intervalType" 
				ng-Change="setIntervalType()" 
				>
			  <option value="hours">hours</option>
			  <option value="days">days</option>
			  <option value="weeks">weeks</option>
			  <option value="months">months</option>
			</select>
			</label>
			</td>

			<td>
			<label>Temperature Y-Axis Min
				<input style="width: 5em" 
					name = "yAxisMinID"
					type="number"
					ng-model="yAxisMin"
					ng-change="setYMin()"
					>
				</label>
			</label>
	
			<label>Max
				<input style="width: 5em" 
					name = "yAxisMaxID"
					type="number"
					ng-model="yAxisMax"
					ng-change="setYMax()"
					>
				</label>
			</label>
			</td>

			<td>
			<A HREF="/environmentlog">View Log File</A>.
			</td>
			
		</tr>
		</table>
		
	
	<BR>
	
	<!-- table with contents of log text file -->
	<div id="mytable" style="width: 100%; height: 100%;"></div>


	</div> <!-- ng-controller="environmentController"

	
</body>
</html>